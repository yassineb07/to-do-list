(()=>{"use strict";const e=[{id:"inbox",name:"Inbox",tasks:[]}];function t(e){document.getElementById(e).classList.toggle("show")}const n=document.getElementById("projectBtn");n.addEventListener("click",(()=>{n.classList.add("hide"),t("projectForm")})),document.getElementById("cancelProject").addEventListener("click",(e=>{e.preventDefault(),n.classList.remove("hide"),t("projectForm")}));const d=document.getElementById("formBtn");d.addEventListener("click",(()=>{d.classList.add("hide"),t("taskForm")})),document.getElementById("cancelTask").addEventListener("click",(e=>{e.preventDefault(),d.classList.remove("hide"),t("taskForm")}));let c="inbox";function s(){!function(){const e=document.getElementById("projectsList");for(;e.firstChild;)e.removeChild(e.firstChild)}(),function(){const t=document.getElementById("projectsList");e.forEach((e=>{if("inbox"===e.id)return;const n=function(e){const t=document.createElement("li"),n=document.createElement("img"),d=document.createElement("div"),c=document.createElement("img");t.id="projectItem",t.classList.add("project-item"),t.dataset.projectId=e.id,n.classList.add("project-icon");const s="../dist/icons";return n.src=`${s}/project.svg`,d.classList.add("project"),d.textContent=e.name,c.id="deleteProject",c.classList.add("project-icon"),c.src=`${s}/delete.svg`,d.appendChild(c),t.appendChild(n),t.appendChild(d),t}(e);t.appendChild(n)}))}()}function i(e){!function(){const e=document.getElementById("tasksList");for(;e.firstChild;)e.removeChild(e.firstChild)}(),function(e){const t=document.getElementById("tasksList");e.forEach((e=>{t.appendChild(function(e){const t=document.createElement("li");t.classList.add("task-item"),t.dataset.taskId=e.id;const n=document.createElement("img");n.classList.add("task-icon"),n.id="checkbox";const d="../dist/icons";e.complete?(n.src=`${d}/checkbox.svg`,t.classList.add("check")):(n.src=`${d}/checkboxEmpty.svg`,t.classList.remove("check"));const c=document.createElement("div");c.classList.add("task-content");const s=document.createElement("div");s.classList.add("task-title"),s.textContent=e.title;const i=document.createElement("img");i.id="deleteTask",i.classList.add("task-icon"),i.src=`${d}/delete.svg`;const a=document.createElement("p");a.id="dueDateEl",a.textContent=e.dueDate;const o=document.createElement("div");return o.classList.add("task-disc"),o.textContent=e.disc,s.appendChild(a),s.appendChild(i),c.appendChild(s),c.appendChild(o),t.appendChild(n),t.appendChild(c),t}(e))}))}(e)}function a(t){const n=e.find((e=>e.id===t));"object"==typeof n&&(document.getElementById("mainTitle").textContent=n.name,i(n.tasks))}document.getElementById("inbox").addEventListener("click",(e=>{c=e.currentTarget.id,a(c)}));const o=document.getElementById("projectsList");o.addEventListener("click",(e=>{"projectsList"!==e.target.id&&"deleteProject"!==e.target.id&&(c=e.target.parentElement.dataset.projectId,a(c))})),document.getElementById("projectForm").addEventListener("submit",(t=>{t.preventDefault(),""!==document.getElementById("name").value&&(function(){const t=(n=document.getElementById("name").value,{id:Date.now().toString(),name:n,tasks:[]});var n;e.push(t)}(),s(),document.getElementById("name").value="")})),o.addEventListener("click",(t=>{"deleteProject"===t.target.id&&(!function(t){const n=e.findIndex((e=>e.id===t));e.splice(n,1)}(t.target.parentElement.parentElement.dataset.projectId),s(),c=e[0].id,a(c))})),document.getElementById("taskForm").addEventListener("submit",(t=>{if(t.preventDefault(),""===document.getElementById("title").value)return;const n=e.find((e=>e.id===c));(function(e){const t={title:document.getElementById("title").value,disc:document.getElementById("disc").value,dueDate:document.getElementById("dueDate").value},n=function(e,t,n){const d=Date.now().toString();let c=new Date(n).toDateString();return"Invalid Date"===c&&(c="No Date"),{id:d,title:e,disc:t,dueDate:c,complete:!1}}(t.title,t.disc,t.dueDate);e.tasks.push(n)})(n),i(n.tasks),document.getElementById("title").value="",document.getElementById("disc").value="",document.getElementById("dueDate").value=""}));const l=document.getElementById("tasksList");l.addEventListener("click",(t=>{"deleteTask"===t.target.id&&(!function(e,t){const n=e.tasks.findIndex((e=>e.id===t));e.tasks.splice(n,1)}(e.find((e=>e.id===c)),t.target.parentElement.parentElement.parentElement.dataset.taskId),a(c))})),l.addEventListener("click",(t=>{if("checkbox"===t.target.id){(n=e.find((e=>e.id===c)).tasks.find((e=>e.id===t.target.parentElement.dataset.taskId))).complete?n.complete=!1:n.complete=!0,a(c)}var n})),a("inbox")})();