(()=>{"use strict";const t=[{id:"inbox",name:"Inbox",tasks:[]}];function e(t){document.getElementById(t).classList.toggle("show")}const n=document.getElementById("projectBtn");n.addEventListener("click",(()=>{n.classList.add("hide"),e("projectForm")})),document.getElementById("cancelProject").addEventListener("click",(t=>{t.preventDefault(),n.classList.remove("hide"),e("projectForm")}));const d=document.getElementById("formBtn");d.addEventListener("click",(()=>{d.classList.add("hide"),e("taskForm")})),document.getElementById("cancelTask").addEventListener("click",(t=>{t.preventDefault(),d.classList.remove("hide"),e("taskForm")}));let c="inbox";function s(){!function(){const t=document.getElementById("projectsList");for(;t.firstChild;)t.removeChild(t.firstChild)}(),function(){const e=document.getElementById("projectsList");t.forEach((t=>{if("inbox"===t.id)return;const n=function(t){const e=document.createElement("li"),n=document.createElement("img"),d=document.createElement("div"),c=document.createElement("img");e.id="projectItem",e.classList.add("project-item"),e.dataset.projectId=t.id,n.classList.add("project-icon");const s="../dist/icons";return n.src=`${s}/project.svg`,d.classList.add("project"),d.textContent=t.name,c.id="deleteProject",c.classList.add("project-icon"),c.src=`${s}/delete.svg`,d.appendChild(c),e.appendChild(n),e.appendChild(d),e}(t);e.appendChild(n)}))}()}function i(t){!function(){const t=document.getElementById("tasksList");for(;t.firstChild;)t.removeChild(t.firstChild)}(),function(t){const e=document.getElementById("tasksList");t.forEach((t=>{e.appendChild(function(t){const e=document.createElement("li");e.classList.add("task-item");const n=document.createElement("img");n.classList.add("task-icon"),n.id="checkbox",n.dataset.taskId=t.id;const d="../dist/icons";t.complete?(n.src=`${d}/checkbox.svg`,e.classList.add("check")):(n.src=`${d}/checkboxEmpty.svg`,e.classList.remove("check"));const c=document.createElement("div");c.classList.add("task-content");const s=document.createElement("div");s.classList.add("task-title"),s.textContent=t.title;const i=document.createElement("img");i.id="deleteTask",i.classList.add("task-icon"),i.src=`${d}/delete.svg`;const o=document.createElement("div");return o.classList.add("task-disc"),o.textContent=t.disc,s.appendChild(i),c.appendChild(s),c.appendChild(o),e.appendChild(n),e.appendChild(c),e}(t))}))}(t)}function o(e){const n=t.find((t=>t.id===e));"object"==typeof n&&(document.getElementById("mainTitle").textContent=n.name,i(n.tasks))}document.getElementById("inbox").addEventListener("click",(t=>{c=t.currentTarget.id,o(c)}));const a=document.getElementById("projectsList");a.addEventListener("click",(t=>{"projectsList"!==t.target.id&&"deleteProject"!==t.target.id&&(c=t.target.parentElement.dataset.projectId,o(c))})),document.getElementById("projectForm").addEventListener("submit",(e=>{e.preventDefault(),""!==document.getElementById("name").value&&(function(){const e=(n=document.getElementById("name").value,{id:Date.now().toString(),name:n,tasks:[]});var n;t.push(e)}(),s(),document.getElementById("name").value="")})),a.addEventListener("click",(e=>{"deleteProject"===e.target.id&&(!function(e){const n=t.findIndex((t=>t.id===e));t.splice(n,1)}(e.target.parentElement.parentElement.dataset.projectId),s(),c=t[0].id,o(c))})),document.getElementById("taskForm").addEventListener("submit",(e=>{if(e.preventDefault(),""===document.getElementById("title").value)return;const n=t.find((t=>t.id===c));(function(t){const e={title:document.getElementById("title").value,disc:document.getElementById("disc").value},n=(d=e.title,c=e.disc,{id:Date.now().toString(),title:d,disc:c,complete:!1});var d,c;t.tasks.push(n)})(n),i(n.tasks),document.getElementById("title").value="",document.getElementById("disc").value=""}));const l=document.getElementById("tasksList");l.addEventListener("click",(e=>{"deleteTask"===e.target.id&&(!function(t,e){const n=t.tasks.findIndex((t=>t.id===e));t.tasks.splice(n,1)}(t.find((t=>t.id===c)),e.target.dataset.taskId),o(c))})),l.addEventListener("click",(e=>{if("checkbox"===e.target.id){(n=t.find((t=>t.id===c)).tasks.find((t=>t.id===e.target.dataset.taskId))).complete?n.complete=!1:n.complete=!0,o(c)}var n})),o("inbox")})();